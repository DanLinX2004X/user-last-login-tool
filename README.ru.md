# user-last-login-tool

[![GitHub Workflow Status](https://img.shields.io/github/actions/workflow/status/DanLinX2004X/user-last-login-tool/ci.yml?branch=main&label=CI%20Tests)](https://github.com/DanLinX2004X/user-last-login-tool/actions)
[![License](https://img.shields.io/github/license/DanLinX2004X/user-last-login-tool?color=blue)](LICENSE)
[![Shell Script](https://img.shields.io/badge/Shell-Bash-4EAA25.svg)](https://www.gnu.org/software/bash/)
[![Platform](https://img.shields.io/badge/Platform-Linux-lightgrey.svg)](https://www.linux.org/)
[![GitHub tag](https://img.shields.io/github/v/tag/DanLinX2004X/user-last-login-tool)](https://github.com/DanLinX2004X/user-last-login-tool/tags)


**üá∫üá∏ [English](README.md)* | **üá∑üá∫ Russian Version**

## üí° –û–±–∑–æ—Ä

**`user-last-login-tool`** ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π, –Ω–æ –Ω–∞–¥—ë–∂–Ω—ã–π Bash-—Å–∫—Ä–∏–ø—Ç, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ **SRE** (Site Reliability Engineering) –∏ **DevOps**. –ï–≥–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è ‚Äî –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **–∫–∞—Å–∫–∞–¥–Ω–æ–π –ª–æ–≥–∏–∫–∏**: —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è **–∂—É—Ä–Ω–∞–ª wtmp (`last`)** –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π, –∞ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **`lastlog`** –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑–µ—Ä–≤–∞. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É.

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞—É–¥–∏—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–∞ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞—Ö Linux.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* **–ù–∞–¥—ë–∂–Ω–∞—è –ö–∞—Å–∫–∞–¥–Ω–∞—è –õ–æ–≥–∏–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `last` (–¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª) –∏ `lastlog` (–∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç), —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º–æ–µ —Å–≤–µ–∂–µ–µ –≤—Ä–µ–º—è –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É. * **–ì–∏–±–∫–∞—è –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ UID** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1000). * **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ú–µ—Ç—Ä–∏–∫–∏:** –û—Ç—á–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–æ—á–Ω—É—é –¥–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞ –∏ **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—à–µ–¥—à–∏—Ö –¥–Ω–µ–π** —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞. * **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—ë—Ç –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ª–æ–≥–æ–≤ (`/var/log/sre-tools/`) –∏ –æ—Ç—á—ë—Ç–æ–≤ (`/opt/sre-reports/`). * **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –î–∏—Å—Ç—Ä–∏–±—É—Ü–∏—è:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —ç–∫–æ—Å–∏—Å—Ç–µ–º **AUR**, **DEB** –∏ **RPM**, –∞ —Ç–∞–∫–∂–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ `make install`.

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ú–µ—Ç–æ–¥ 1: –°–±–æ—Ä–∫–∞ –∏–∑ –ò—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, –∂–µ–ª–∞—é—â–∏—Ö —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏ (`/usr/local/bin` –∏ `/usr/local/man/man1`).

1.  –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
    ```bash
    git clone https://github.com/DanLinX2004X/user-last-login-tool.git
    cd user-last-login-tool
    ```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç, man-—Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ —Ä–∞–±–æ—á–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
    ```bash
    sudo make install
    ```
3.  –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:
    ```bash
    man user_last_login
    ```

### –ú–µ—Ç–æ–¥ 2: –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ü–∞–∫–µ—Ç–Ω—ã—Ö –ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–æ—Ç–æ–≤—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ Linux:

| –î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ | –¢–∏–ø –ü–∞–∫–µ—Ç–∞ | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –§–∞–π–ª/–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ |
| :--- | :--- | :--- | :--- |
| **Arch/CachyOS** | AUR | `paru`, `yay` | `PKGBUILD` (–±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ AUR) |
| **Debian/Ubuntu** | DEB | `dpkg` | –§–∞–π–ª—ã –≤ `debian/` |
| **Red Hat/Fedora**| RPM | `rpm` | `user-last-login-tool.spec` |

### –ú–µ—Ç–æ–¥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker

–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

You can run the script in an isolated environment without installing system dependencies: 
1. –°–æ–±–µ—Ä–∏—Ç–µ Docker-–æ–±—Ä–∞–∑:
```bash
 docker build -t user-last-login . 
 ``` 
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏ **—Å–º–æ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π UID 500):
```bash 
# –û—Ç—á–µ—Ç –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –≤–∞—à–µ–π —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (/path/to/local/reports) 
docker run --rm -v $(pwd)/reports:/opt/sre-reports user-last-login --uid 500 
```

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

### –ö—Ä–∞—Ç–∫–∏–π –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```bash
user_last_login.sh [OPTIONS]
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

|–ü–∞—Ä–∞–º–µ—Ç—Ä|–û–ø–∏—Å–∞–Ω–∏–µ|–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é|
|---|---|---|
|-u, --uid <UID>|–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π User ID (UID) –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤ –æ—Ç—á—ë—Ç.|1000|
|-d, --dir <PATH>|–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—á—ë—Ç–∞ CSV.|/opt/sre-reports|
|-h, --help|–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –∏ –≤—ã–π—Ç–∏.||
|-v, --version|–ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é —Å–∫—Ä–∏–ø—Ç–∞ –∏ –≤—ã–π—Ç–∏.||




### –ü—Ä–∏–º–µ—Ä

–ß—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å UID –±–æ–ª—å—à–µ 500:

```bash
user_last_login.sh -u 500
```

### –í—ã–≤–æ–¥

–°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç —Å –∏–º–µ–Ω–µ–º `user_last_login_YYYY-MM-DD.csv` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –æ—Ç—á—ë—Ç–æ–≤.

|Username|Last_Login_Date|Days_Ago|
|---|---|---|
|danlin|Wed Oct 30 14:30:00 2025|29|
|deployer|Never logged|N/A|




---

## ‚öôÔ∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ


–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **ShellCheck** –¥–ª—è –ª–∏–Ω—Ç–∏–Ω–≥–∞ –∏ **Bats** (Bash Automated Testing System) –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
make test
```
---

## ü§ù –í–∫–ª–∞–¥ –≤ –ü—Ä–æ–µ–∫—Ç 
–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∞—à –≤–∫–ª–∞–¥! –ü–æ—Å–∫–æ–ª—å–∫—É —Ü–µ–ª—å —Å–∫—Ä–∏–ø—Ç–∞ ‚Äî –æ–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö Linux, –≤–∫–ª—é—á–∞—è —Å–∏—Å—Ç–µ–º—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **LDAP** –∏–ª–∏ **SSSD**, –ª—é–±–∞—è –ø–æ–º–æ—â—å –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–ª–∏ —É–ª—É—á—à–µ–Ω–∏–∏ –ª–æ–≥–∏–∫–∏ –±—É–¥–µ—Ç –≤—ã—Å–æ–∫–æ –æ—Ü–µ–Ω–µ–Ω–∞. 

### –ö–∞–∫ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥: 
* **–°–æ–æ–±—â–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ:** –ï—Å–ª–∏ –≤—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –æ—à–∏–±–∫—É (–æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å LDAP/SSSD –∏–ª–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤), –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ Issue, –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–≤ –ø—Ä–æ–±–ª–µ–º—É –∏ –≤–∞—à—É —Å–∏—Å—Ç–µ–º–Ω—É—é —Å—Ä–µ–¥—É. 
 * **Pull Requests:** –í—ã –º–æ–∂–µ—Ç–µ —Ñ–æ—Ä–∫–Ω—É—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å Pull Request —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏, –Ω–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏–ª–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ —Ñ–∞–π–ª–∞—Ö –ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (DEB/RPM/PKGBUILD). 
 *  **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ö —Å–æ —Å–ª–æ–∂–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ (—É—Å–ø–µ—à–Ω—ã–º–∏ –∏–ª–∏ –Ω–µ—É–¥–∞—á–Ω—ã–º–∏) ‚Äî —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—à—É –∫–∞—Å–∫–∞–¥–Ω—É—é –ª–æ–≥–∏–∫—É. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª—é–±–æ–π –Ω–æ–≤—ã–π –∫–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å—Ç–∏–ª—é –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã (`make test`).

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ **–õ–∏—Ü–µ–Ω–∑–∏–∏ MIT**. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).

## üëã Contact

-   **Author:** DanLIn
